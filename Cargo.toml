[workspace]
resolver = "2"
members = [
    "crates/*",
    "guests",
#    "host",
#    "lib",
#    "primitives",
#    "testing/ef-tests"
]

# Always optimize; building and running the guest takes much longer without optimization.
[profile.dev]
opt-level = 3

[profile.dev.build-override]
opt-level = 3

[profile.release]
debug = 1
lto = true

[profile.release.build-override]
opt-level = 3

# RISC Zero
[workspace.dependencies.bonsai-sdk]
version = "1.1.2"
features = ["non_blocking"]

[workspace.dependencies.risc0-build]
version = "1.1.2"

[workspace.dependencies.risc0-zkvm]
version = "1.1.2"
default-features = false

# External
[workspace.dependencies]
anyhow = "1.0.89"
hashbrown = { version = "0.15.0", features = ["inline-more"] }

# Alloy
alloy-consensus = "0.4.2"
alloy-primitives = "0.8.8"
alloy-rlp = "0.3.8"

# Reth
reth-chainspec = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd", default-features = false, features = ["std"] }
reth-consensus = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd" }
reth-ethereum-consensus = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd" }
reth-evm = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd", default-features = false, features = ["std"] }
reth-evm-ethereum = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd", default-features = false, features = ["std"] }
reth-primitives = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd", default-features = false, features = ["std"] }
reth-revm = { git = "https://github.com/risc0/reth", branch = "p1.1.0_zstd", default-features = false, features = ["std"] }

serde = { version = "1.0.210", features = ["derive"] }
thiserror = "1.0.64"
tiny-keccak = "2.0.2"